<!DOCTYPE html>
<html lang="cs">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="image/png" href="/img/favicon.png" />
    <title>AR Aplikace</title>
    <link rel="stylesheet" href="/css/base.css">
    <link rel="stylesheet" href="/css/layout.css">
    <link rel="stylesheet" href="/css/buttons.css">
    <link rel="stylesheet" href="/css/modal.css">
    <link rel="stylesheet" href="/css/text-block.css">
    <link rel="stylesheet" href="/css/links.css">
    <link rel="stylesheet" href="/css/pages.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
    <link rel="manifest" href="/manifest.json">
    <link rel="apple-touch-icon" href="/img/apple_touch_icon_192x192.png">
</head>
<body class="home-page">

    <div class="page-wrapper">

        <header class="app-header">
            <img src="/img/augview.png" alt="Logo AR Aplikace" id="app-logo">
            <h1>Vyberte AR Sc√©nu</h1>
        </header>

        <main>
            <div class="menu-content">
                <a href="/assets/andele/geo_andele.html" class="menu-button icon-button">
                    <img src="/assets/andele/thumb/andele.png" alt="" class="button-icon">
                    <span class="button-text">Andƒõl√© v Kyjovƒõ</span>
                    <span class="star-display" data-scene-id="/assets/andele/geo_andele.html"></span>
                </a>
               
                
            </div>

            <div class="centered-controls">
                <!-- P≈Øvodn√≠ tlaƒç√≠tko mapy m≈Ø≈æete odstranit nebo ponechat -->
                <!-- <div class="map-section-minimal">
                    <p class="map-link-wrapper-minimal">
                        <a href="https://www.google.com/maps/search/?api=1&query=t%C5%99.+Palack%C3%A9ho+1373%2F13a%2C+697+01+Kyjov+1" target="_blank" rel="noopener noreferrer" class="map-button-minimal">
                            Zobrazit na mapƒõ
                        </a>
                    </p>
                </div> -->

                <div class="back-button-container">
                    <a href="/muzea_galerie.html" class="menu-button back-button">
                        Zpƒõt
                    </a>
                </div>
            </div>

        </main>

        <!-- PLOVOUC√ç TLAƒå√çTKA v prav√©m doln√≠m rohu -->
        <div class="floating-buttons">
            <!-- Tlaƒç√≠tko mapy -->
            <a href="https://www.google.com/maps/search/?api=1&query=t%C5%99.+Palack%C3%A9ho+1373%2F13a%2C+697+01+Kyjov+1" 
               target="_blank" 
               rel="noopener noreferrer" 
               class="floating-button map-floating-button"
               title="Zobrazit na mapƒõ">
                <svg class="map-icon" viewBox="0 0 24 24">
                    <path d="M20.5,3L20.34,3.03L15,5.1L9,3L3.36,4.9C3.15,4.97 3,5.15 3,5.38V20.5A0.5,0.5 0 0,0 3.5,21L3.66,20.97L9,18.9L15,21L20.64,19.1C20.85,19.03 21,18.85 21,18.62V3.5A0.5,0.5 0 0,0 20.5,3M10,5.47L14,6.87V18.53L10,17.13V5.47M5,6.46L8,5.45V17.15L5,18.31V6.46M16,18.55L19,17.54V5.84L16,6.9V18.55Z"/>
                </svg>
            </a>
            
            <!-- Tlaƒç√≠tko n√°povƒõdy -->
            <button id="help-button" class="floating-button help-icon-button" title="N√°povƒõda">?</button>
        </div>

        <footer class="app-footer">
            <p>¬© 2025 Vytvo≈ôil V√°clav Pƒõnƒç√≠k</p>
        </footer>

    </div>

    <div id="help-modal" class="modal-overlay">
        <div class="modal-content">
            <h2>N√°povƒõda</h2>
            <p>
                Vyberte si jednu z dostupn√Ωch sc√©n pomoc√≠ tlaƒç√≠tek v hlavn√≠ nab√≠dce.
                Po spu≈°tƒõn√≠ sc√©ny postupujte podle instrukc√≠ na obrazovce pro zobrazen√≠
                roz≈°√≠≈ôen√© reality.
            </p>
            <h3 style="color: #666; margin-bottom: 0.5rem;">üé• POZOR! Je nutn√© povolit p≈ô√≠stup ke kame≈ôe za≈ô√≠zen√≠!</h3>
            
            <h2>Menu Panel</h2>
            <div class="help-items-container">
                <div class="help-item">
                    <img src="/assets/andele/thumb/andele.png" alt="andele" class="inline-icon">
                    <p>Andƒõl√© v kyjovƒõ</p>
                </div>
                <hr>
               
            </div>
            
            <h2>Sb√≠rejte hvƒõzdy!</h2>
            <div class="help-items-container">
                <div class="help-item"> 
                    <img src="/img/stars.png" alt="stars" class="inline-icon">
                    <p>Hvƒõzdy ukazuj√≠, jak moc jste zv√≠dav√≠. Objevuj√≠ se u tlaƒç√≠tek se sc√©nami.
                       Za zhl√©dnut√≠ v≈°ech sc√©n v jedn√© kategorii z√≠sk√°te zlatou hvƒõzdu.
                       Pokud si p≈ôehrajete alespo≈à polovinu, dostanete st≈ô√≠brnou hvƒõzdu.
                       A bronzovou z√≠sk√°te u≈æ jen za kr√°tk√© nahl√©dnut√≠.</p>
                    <p>
                      C√≠lem je nasb√≠rat v≈°echny zlat√© hvƒõzdy ‚Äì to je ta prav√° v√Ωzva!
                      A kdy≈æ se v√°m to poda≈ô√≠, ƒçek√° v√°s odmƒõna na recepci.</p>
                </div>  
            </div>
                     
            <h3 style="color: #666; margin-bottom: 0.5rem;">üëÄüî¶ Ujistƒõte se, ≈æe m√°te dostatek svƒõtla a sledujte okol√≠.</h3>
            

            <button id="close-help-button" class="menu-button modal-close-button">Zpƒõt do menu</button>
        </div>
    </div>

    <script src="/gamification-config.js"></script>
    <script src="/game/andele-config.js"></script>
    <script src="/gamification.js"></script>
    <script src="/script.js"></script>

    <!-- Skript pro zobrazen√≠ hvƒõzd na t√©to str√°nce -->
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const starDisplayElements = document.querySelectorAll('.star-display[data-scene-id]');
            // *** NOVINKA: Z√≠sk√°n√≠ ID aktu√°ln√≠ expozice jednou na zaƒç√°tku ***
            const currentExpositionId = getCurrentExpositionId(); 
            
            if (!currentExpositionId || currentExpositionId === 'unknown') {
                 console.error("Cannot determine current exposition ID. Stars may not display correctly.");
                 // Mo≈æn√° zde zobrazit nƒõjakou chybovou zpr√°vu u≈æivateli, pokud je to kritick√©
            }

            starDisplayElements.forEach(starElement => {
                const sceneId = starElement.dataset.sceneId;

                if (SCENE_CONFIG && SCENE_CONFIG[sceneId]) {
                    // *** UPRAVENO: P≈ôed√°n√≠ ID expozice funkci getSceneStarLevel ***
                    const level = getSceneStarLevel(currentExpositionId, sceneId); 
                    displayStars(starElement, level);
                } else {
                    console.warn(`Config for scene ID "${sceneId}" not found in SCENE_CONFIG. Cannot display stars.`);
                }
            });
        });
    </script>

</body>
</html>
