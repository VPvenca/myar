<!DOCTYPE html>
<html lang="cs">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="image/png" href="/img/favicon.png" />
    <title>AR Aplikace</title> <!-- Mírně upravený titulek -->
    <!-- Základní styly a preset -->
    <link rel="stylesheet" href="/css/base.css">
    <!-- Styly pro layout stránky -->
    <link rel="stylesheet" href="/css/layout.css">
    <!-- Styly pro komponenty -->
    <link rel="stylesheet" href="/css/buttons.css">
    <link rel="stylesheet" href="/css/modal.css">
    <link rel="stylesheet" href="/css/text-block.css">
    <link rel="stylesheet" href="/css/links.css">
    <!-- Styly specifické pro stránky (musí být poslední, aby mohly přepsat obecné) -->
    <link rel="stylesheet" href="/css/pages.css">
    <!-- Google Font -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
    <!-- Manifest a ikony -->
    <link rel="manifest" href="/manifest.json">
    <link rel="apple-touch-icon" href="/img/apple_touch_icon_192x192.png">
</head>
<body class="home-page">

    <div class="page-wrapper"> <!-- Obalovač pro flexbox layout s patičkou dole -->

        <header class="app-header">
            <img src="/img/augview.png" alt="Logo AR Aplikace" id="app-logo">
            <h1>Vyberte AR Scénu</h1>
        </header>

        <!-- === ZAČÁTEK JEDINÉHO MAIN ELEMENTU === -->
        <main>
            <!-- Kontejner pro tlačítka menu -->
            <div class="menu-content">
                <a href="/assets/kyjov/terce.html" class="menu-button icon-button">
                    <img src="/assets/kyjov/thumb/terce_thumb.png" alt="" class="button-icon">
                    <span class="button-text">střelecké terče</span>
                    <span class="star-display" data-scene-id="/assets/kyjov/terce.html"></span>
                </a>
                <a href="/assets/kyjov/florian.html" class="menu-button icon-button">
                    <img src="/assets/kyjov/thumb/florian_thumb.png" alt="" class="button-icon">
                    <span class="button-text">obraz sv.Floriána</span>
                    <span class="star-display" data-scene-id="/assets/kyjov/florian.html"></span>
                </a>
                <a href="/assets/kyjov/scena_1.html" class="menu-button icon-button">
                    <img src="/assets/kyjov/thumb/obrazy_thumb.png" alt="" class="button-icon">
                    <span class="button-text">obrazy v mezipatře</span>
                    <span class="star-display" data-scene-id="/assets/kyjov/scena_1.html"></span>
                </a>
                <a href="/assets/kyjov/scena_3.html" class="menu-button icon-button">
                    <img src="/assets/kyjov/thumb/vedro_thumb.png" alt="" class="button-icon">
                    <span class="button-text">3D vědro</span>
                    <span class="star-display" data-scene-id="/assets/kyjov/scena_3.html"></span>
                </a>
                <a href="/assets/kyjov/scena_2.html" class="menu-button icon-button">
                    <img src="/assets/kyjov/thumb/hadanky_thumb.png" alt="" class="button-icon">
                    <span class="button-text">Hádanky</span>
                    <span class="star-display" data-scene-id="/assets/kyjov/scena_2.html"></span>
                </a>
            </div> <!-- Konec .menu-content -->

            <!-- Kontejner pro mapu a tlačítko Zpět -->
            <div class="centered-controls">
                <!-- Odkaz pro ZOBRAZENÍ místa na mapě -->
                <div class="map-section-minimal">
                    <p class="map-link-wrapper-minimal">
                        <a href="https://www.google.com/maps/search/?api=1&query=t%C5%99.+Palack%C3%A9ho+1373%2F13a%2C+697+01+Kyjov+1" target="_blank" rel="noopener noreferrer" class="map-button-minimal">
                            Zobrazit na mapě
                        </a>
                    </p>
                </div>

                <!-- Tlačítko Zpět -->
                <div class="back-button-container">
                    <a href="/muzea_galerie.html" class="menu-button back-button">
                        Zpět
                    </a>
                </div>
            </div> <!-- Konec .centered-controls -->

        </main> <!-- === KONEC JEDINÉHO MAIN ELEMENTU === -->
        <!-- Nevalidní </main> tag odstraněn -->

        <!-- Tlačítko Nápovědy (mimo main pro nezávislé pozicování) -->
        <button id="help-button" class="help-icon-button" title="Nápověda">?</button>

        <!-- Patička -->
        <footer class="app-footer">
            <p>© 2025 Vytvořil Václav Pěnčík</p>
        </footer>

    </div> <!-- Konec page-wrapper -->

    <!-- Modální okno Nápovědy -->
    <div id="help-modal" class="modal-overlay">
        <div class="modal-content">
            <h2>Nápověda</h2>
            <p>
                Vyberte si jednu z dostupných scén pomocí tlačítek v hlavní nabídce.
                Po spuštění scény postupujte podle instrukcí na obrazovce pro zobrazení
                rozšířené reality.
            </p>
            <p>POZOR! Je nutné povolit přístup ke kameře zařízení!</p>
            
            <h2>Sbírejte hvězdy!</h2>
            <div class="help-items-container">
                <div class="help-item">
            
            <img src="/img/stars.png" alt="stars" class="inline-icon">
            <p>Hvězdy ukazují, jak moc jste zvídaví. Objevují se u tlačítek se scénami.
               Za zhlédnutí všech scén v jedné kategorii získáte zlatou hvězdu.
               Pokud si přehrajete alespoň polovinu, dostanete stříbrnou hvězdu.
               A bronzovou získáte už jen za krátké nahlédnutí.
             <p>
              Cílem je nasbírat všechny zlaté hvězdy – to je ta pravá výzva!
              A když se vám to podaří, čeká vás odměna na recepci.</p>
            </div>    
            
            <h2>Menu Panel</h2>
            <div class="help-items-container">
                <div class="help-item">
                    <img src="/assets/kyjov/thumb/terce_thumb.png" alt="terce" class="inline-icon">
                    <p>Střelecké terče se nacházejí v přízemí (expozice Historie).</p>
                </div>
                <hr>
                <div class="help-item">
                    <img src="/assets/kyjov/thumb/florian_thumb.png" alt="florian" class="inline-icon">
                    <p>Obraz sv.Floriána se nacházejí v přízemí (expozice Historie / Hasiči).</p>
                </div>
                <hr>
                <div class="help-item">
                    <img src="/assets/kyjov/thumb/obrazy_thumb.png" alt="obrazy" class="inline-icon">
                    <p>Portrét MUDr.Joklíka a obraz třetihor se nachází na schodišti v mezipatře.</p>
                </div>
                <hr>
                <div class="help-item">
                    <img src="/assets/kyjov/thumb/vedro_thumb.png" alt="vedro" class="inline-icon">
                    <p>3D vizualizace vědra. Položte na stůl pohlednici a zamiřte na ni. Objeví se 3d objekt, který si můžete prohlédnout ze všech stran.</p>
                </div>
                <hr>
                <div class="help-item">
                    <img src="/assets/kyjov/thumb/hadanky_thumb.png" alt="hadanky" class="inline-icon">
                    <p>Jedná se o demoverzi hádanek k představení projektu AugView.</p>
                </div>
                <hr>
            </div> <!-- Konec help-items-container -->

            <p>Ujistěte se, že máte dostatek světla a sledujte okolí.</p>
            <!-- Prázdný <p> tag odstraněn -->
            <p>Aplikace využívá Mind AR / A frame.</p>

            <button id="close-help-button" class="menu-button modal-close-button">Zpět do menu</button>
        </div>
    </div> <!-- Konec modal-overlay -->

     <script src="/gamification-config.js"></script>
    <script src="/gamification.js"></script>
    <!-- Připojení JavaScriptu -->
    <script src="/script.js"></script>

    <!-- Skript pro zobrazení hvězd na této stránce -->
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const starDisplayElements = document.querySelectorAll('.star-display[data-scene-id]');

            starDisplayElements.forEach(starElement => {
                const sceneId = starElement.dataset.sceneId;

                if (SCENE_CONFIG && SCENE_CONFIG[sceneId]) { // Zkontrolujte i existenci SCENE_CONFIG
                    const level = getSceneStarLevel(sceneId);
                    displayStars(starElement, level);
                } else {
                    console.warn(`Config for scene ID "${sceneId}" not found in SCENE_CONFIG. Cannot display stars. Make sure gamification-config.js is loaded and sceneId is correct.`);
                }
            });
        });
    </script>

</body>
</html>
